{"ast":null,"code":"var _jsxFileName = \"/Users/jpa/Desktop/coding-aa/react-flask-app/client/src/components/Signup.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Signup() {\n  _s();\n\n  const history = useHistory();\n  const [signupForm, setSignupForm] = useState({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  });\n  const [errors, setErrors] = useState({});\n\n  async function signMeUp(event) {\n    event.preventDefault();\n    validateInput();\n\n    if (errors.confirmPassword) {\n      return;\n    }\n\n    const XSRFTOKEN = await fetch('/api/get_csrf');\n    const token = await XSRFTOKEN.json();\n    const res = await fetch(\"/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'X-CSRFToken': token.csrfT\n      },\n      body: JSON.stringify({\n        email: signupForm.email,\n        password: signupForm.password,\n        confirmPassword: signupForm.confirmPassword\n      })\n    });\n\n    if (res.status >= 200 && res.status < 400) {\n      const {\n        token,\n        user,\n        tasklists\n      } = await res.json();\n    } else {\n      console.log(res.status);\n    }\n\n    setSignupForm({\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\"\n    });\n    history.push('/login');\n  }\n\n  function handleChange(e) {\n    const {\n      value,\n      name\n    } = e.target;\n    const fixDelayValue = value;\n    setSignupForm(prevNote => ({ ...prevNote,\n      [name]: value\n    }));\n  }\n\n  const validateInput = () => {\n    const validationState = { ...errors\n    };\n\n    if (!signupForm.email) {\n      validationState.email = \"Please enter email.\";\n    }\n\n    if (!signupForm.password) {\n      validationState.password = \"Please enter password.\";\n    }\n\n    if (signupForm.password !== signupForm.confirmPassword || !signupForm.confirmPassword) {\n      validationState.confirmPassword = \"Password and Confirm Password does not match.\";\n    } else {\n      validationState.confirmPassword = \"\";\n    }\n\n    setErrors(validationState);\n    return validationState;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          type: \"email\",\n          text: signupForm.email,\n          name: \"email\",\n          placeholder: \"Email\",\n          value: signupForm.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          type: \"password\",\n          text: signupForm.password,\n          name: \"password\",\n          placeholder: \"Password\",\n          value: signupForm.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          type: \"password\",\n          text: signupForm.confirmPassword,\n          name: \"confirmPassword\",\n          placeholder: \"Confirm Password\",\n          value: signupForm.confirmPassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: signMeUp,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Signup, \"U+raWYbtW23liK37x7kqAh68QIs=\", false, function () {\n  return [useHistory];\n});\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["useState","useHistory","Link","Signup","history","signupForm","setSignupForm","email","password","confirmPassword","errors","setErrors","signMeUp","event","preventDefault","validateInput","XSRFTOKEN","fetch","token","json","res","method","headers","csrfT","body","JSON","stringify","status","user","tasklists","console","log","push","handleChange","e","value","name","target","fixDelayValue","prevNote","validationState"],"sources":["/Users/jpa/Desktop/coding-aa/react-flask-app/client/src/components/Signup.js"],"sourcesContent":["import { useState } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\n\nfunction Signup() {\n  const history = useHistory();\n  const [signupForm, setSignupForm] = useState({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  })\n  const [errors, setErrors] = useState({})\n\n  async function signMeUp(event) {\n    event.preventDefault();\n    validateInput();\n    if (errors.confirmPassword) {\n      return;\n    }\n\n    const XSRFTOKEN = await fetch('/api/get_csrf')\n    const token = (await XSRFTOKEN.json())\n    const res = await fetch(\"/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'X-CSRFToken': token.csrfT\n      },\n      body: JSON.stringify({\n        email: signupForm.email,\n        password: signupForm.password,\n        confirmPassword: signupForm.confirmPassword\n      })\n    })\n    if (res.status >= 200 && res.status < 400) {\n      const { token, user, tasklists } = await res.json();\n    } else {\n      console.log(res.status)\n    }\n\n    setSignupForm(({\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\"\n    }))\n    history.push('/login');\n  }\n\n  function handleChange(e) {\n    const { value, name } = e.target;\n    const fixDelayValue = value;\n    setSignupForm(prevNote => ({\n      ...prevNote, [name]: value\n    }))\n  }\n  const validateInput = () => {\n    const validationState = { ...errors };\n    if (!signupForm.email) {\n      validationState.email = \"Please enter email.\"\n    }\n    if (!signupForm.password) {\n      validationState.password = \"Please enter password.\"\n    }\n    if (signupForm.password !== signupForm.confirmPassword || !signupForm.confirmPassword) {\n      validationState.confirmPassword = \"Password and Confirm Password does not match.\";\n    } else {\n      validationState.confirmPassword = \"\";\n    }\n    setErrors(validationState);\n\n    return validationState;\n  };\n\n  return (\n    <>\n      <div className=\"form\">\n        <h1>Signup</h1>\n        <form >\n          <input onChange={handleChange}\n            type=\"email\"\n            text={signupForm.email}\n            name=\"email\"\n            placeholder=\"Email\"\n            value={signupForm.email} />\n          <input onChange={handleChange}\n            type=\"password\"\n            text={signupForm.password}\n            name=\"password\"\n            placeholder=\"Password\"\n            value={signupForm.password} />\n          <input onChange={handleChange}\n            type=\"password\"\n            text={signupForm.confirmPassword}\n            name=\"confirmPassword\"\n            placeholder=\"Confirm Password\"\n            value={signupForm.confirmPassword} />\n          <button onClick={signMeUp}>Submit</button>\n        </form>\n        <Link\n          to=\"/login\">\n          Login\n        </Link>\n      </div>\n      {/* {\n        Object.values(errors).map(msg =>\n          <p key={msg} className='error'>{msg}</p>\n        )\n      } */}\n    </>\n  );\n}\n\nexport default Signup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
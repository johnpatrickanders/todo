{"ast":null,"code":"var _jsxFileName = \"/Users/jpa/Desktop/coding-aa/react-flask-app/client/src/components/Task.js\";\nimport { useState, useContext, useEffect } from 'react';\nimport './Task.css';\nimport SelectedTask from './SelectedTask';\nimport ImageModal from './ImageModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function (_ref) {\n  let {\n    task,\n    setTasksState,\n    tasksState,\n    idx,\n    selectedTask,\n    setSelectedTask\n  } = _ref;\n  const [classNames, setClassNames] = useState(`tasks__task ${task.status === 'Complete' ? \" task__done\" : \"\"}`);\n  const [taskTitle, setTaskTitle] = useState(task.title);\n  const [isOpen, setOpen] = useState(false);\n  const [leftPropertySelectedTask, setLeftPropertySelectedTask] = useState(0);\n\n  const handleTitleClick = async () => {\n    if (selectedTask) return;\n    task.status = task.status === 'Open' ? 'Complete' : 'Open';\n    await fetch(`tasks/${task.id}/status`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        userId: 1,\n        status: task.status,\n        taskListId: task.listId\n      })\n    });\n    setClassNames(`tasks__task ${task.status === 'Complete' ? \"task__done \" : \"\"}`);\n  };\n\n  const handleDotsClick = async e => {\n    e.stopPropagation();\n    const rect = e.target.getBoundingClientRect();\n    const width = window.innerWidth - 35;\n    const selectedTaskWidth = 364;\n    const listsMainWidth = 385;\n    const leftValueToSet = Math.min(width - selectedTaskWidth * 2, rect.left - listsMainWidth);\n    setLeftPropertySelectedTask(leftValueToSet);\n\n    if (selectedTask) {\n      setSelectedTask(null);\n    } else {\n      setSelectedTask(task);\n    }\n  };\n\n  const loadImageModal = e => {\n    e.stopPropagation();\n    setOpen(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classNames,\n    onClick: handleTitleClick,\n    children: [isOpen ? /*#__PURE__*/_jsxDEV(ImageModal, {\n      fileName: task.fileName,\n      setOpen: setOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"task__left\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"task__title\",\n        children: taskTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"task__dots\",\n        onClick: e => handleDotsClick(e),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"task__dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"task__dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"task__dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), task.fileName ? /*#__PURE__*/_jsxDEV(\"i\", {\n        onClick: e => loadImageModal(e),\n        className: \"fa task__file__icon\",\n        children: \"\\uF15B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 26\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), selectedTask ? /*#__PURE__*/_jsxDEV(SelectedTask, {\n        leftPropertySelectedTask: leftPropertySelectedTask,\n        task: task,\n        idx: idx,\n        setTasksState: setTasksState,\n        tasksState: tasksState,\n        setTaskTitle: setTaskTitle,\n        selectedTask: selectedTask,\n        setSelectedTask: setSelectedTask\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"task__right\",\n      children: task.dueWord\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"names":["useState","useContext","useEffect","SelectedTask","ImageModal","task","setTasksState","tasksState","idx","selectedTask","setSelectedTask","classNames","setClassNames","status","taskTitle","setTaskTitle","title","isOpen","setOpen","leftPropertySelectedTask","setLeftPropertySelectedTask","handleTitleClick","fetch","id","method","headers","body","JSON","stringify","userId","taskListId","listId","handleDotsClick","e","stopPropagation","rect","target","getBoundingClientRect","width","window","innerWidth","selectedTaskWidth","listsMainWidth","leftValueToSet","Math","min","left","loadImageModal","fileName","dueWord"],"sources":["/Users/jpa/Desktop/coding-aa/react-flask-app/client/src/components/Task.js"],"sourcesContent":["import { useState, useContext, useEffect } from 'react';\nimport './Task.css';\nimport SelectedTask from './SelectedTask';\nimport ImageModal from './ImageModal';\n\nexport default function ({\n  task,\n  setTasksState,\n  tasksState,\n  idx,\n  selectedTask,\n  setSelectedTask\n}) {\n  const [classNames, setClassNames] = useState(`tasks__task ${task.status === 'Complete' ? \" task__done\" : \"\"}`);\n  const [taskTitle, setTaskTitle] = useState(task.title);\n  const [isOpen, setOpen] = useState(false);\n  const [leftPropertySelectedTask, setLeftPropertySelectedTask] = useState(0);\n  const handleTitleClick = async () => {\n    if (selectedTask) return;\n    task.status = task.status === 'Open' ? 'Complete' : 'Open';\n    await fetch(`tasks/${task.id}/status`, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        userId: 1,\n        status: task.status,\n        taskListId: task.listId\n      })\n    })\n    setClassNames(`tasks__task ${task.status === 'Complete' ? \"task__done \" : \"\"}`);\n  }\n\n  const handleDotsClick = async (e) => {\n    e.stopPropagation();\n    const rect = e.target.getBoundingClientRect();\n    const width = window.innerWidth - 35;\n    const selectedTaskWidth = 364;\n    const listsMainWidth = 385;\n    const leftValueToSet = Math.min(width - (selectedTaskWidth) * 2, rect.left - listsMainWidth);\n    setLeftPropertySelectedTask(leftValueToSet);\n\n    if (selectedTask) {\n      setSelectedTask(null);\n    } else {\n      setSelectedTask(task);\n    }\n  }\n\n  const loadImageModal = (e) => {\n    e.stopPropagation();\n    setOpen(true);\n  }\n\n  return (\n    <div\n      className={classNames}\n      onClick={handleTitleClick}\n    >\n      {isOpen ? <ImageModal fileName={task.fileName} setOpen={setOpen} /> : <></>}\n      <div className='task__left'>\n        <div className='task__title'>{taskTitle}</div>\n        <div className='task__dots'\n          onClick={(e) => handleDotsClick(e)}\n        >\n          <div className='task__dot'></div>\n          <div className='task__dot'></div>\n          <div className='task__dot'></div>\n        </div>\n        {task.fileName ? <i onClick={(e) => loadImageModal(e)} className='fa task__file__icon'>&#xf15b;</i> : <></>}\n        {selectedTask ? <SelectedTask\n          leftPropertySelectedTask={leftPropertySelectedTask}\n          task={task}\n          idx={idx}\n          setTasksState={setTasksState}\n          tasksState={tasksState}\n          setTaskTitle={setTaskTitle}\n          selectedTask={selectedTask}\n          setSelectedTask={setSelectedTask}\n        /> : <div />}\n      </div>\n      <div className='task__right'>{task.dueWord}</div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/jpa/Desktop/coding-aa/react-flask-app/client/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport '../LoggedOutView.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(_ref) {\n  _s();\n\n  let {\n    dispatch\n  } = _ref;\n  const history = useHistory();\n  const [loginForm, setloginForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  async function logMeIn(event) {\n    event.preventDefault();\n    const XSRFTOKEN = await fetch('/get_csrf');\n    const token = await XSRFTOKEN.json();\n    const res = await fetch(`/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': token.csrfT\n      },\n      body: JSON.stringify({\n        email: loginForm.email,\n        password: loginForm.password\n      })\n    });\n\n    if (res.status >= 200 && res.status < 400) {\n      const {\n        user,\n        tasklists\n      } = await res.json();\n      dispatch({\n        type: \"login\",\n        payload: {\n          user: { ...user\n          },\n          lists: tasklists\n        }\n      });\n    } else {\n      console.log(res.status);\n    }\n\n    setloginForm({\n      email: \"\",\n      password: \"\"\n    });\n    history.push('/home');\n  }\n\n  function handleChange(event) {\n    const {\n      value,\n      name\n    } = event.target;\n    setloginForm(prevNote => ({ ...prevNote,\n      [name]: value\n    }));\n  }\n\n  const popDemoUser = e => {\n    e.preventDefault();\n    setloginForm({\n      email: \"testing@example.com\",\n      password: \"test\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"TO DO\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login__tagline\",\n        children: \"get it done with images and due dates\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        type: \"email\",\n        text: loginForm.email,\n        name: \"email\",\n        placeholder: \"Email\",\n        value: loginForm.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        type: \"password\",\n        text: loginForm.password,\n        name: \"password\",\n        placeholder: \"Password\",\n        value: loginForm.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logMeIn,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/signup\",\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      onClick: e => popDemoUser(e),\n      to: \"login\",\n      children: \"Set Demo User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"4h9bkSMasNifxT+JIhLyVKcAiy4=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","Link","useHistory","Login","dispatch","history","loginForm","setloginForm","email","password","logMeIn","event","preventDefault","XSRFTOKEN","fetch","token","json","res","method","headers","csrfT","body","JSON","stringify","status","user","tasklists","type","payload","lists","console","log","push","handleChange","value","name","target","prevNote","popDemoUser","e"],"sources":["/Users/jpa/Desktop/coding-aa/react-flask-app/client/src/components/Login.js"],"sourcesContent":["import { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport '../LoggedOutView.css'\n\nfunction Login({ dispatch }) {\n  const history = useHistory();\n  const [loginForm, setloginForm] = useState({\n    email: \"\",\n    password: \"\"\n  })\n\n  async function logMeIn(event) {\n    event.preventDefault();\n    const XSRFTOKEN = await fetch('/get_csrf');\n    const token = await XSRFTOKEN.json()\n    const res = await fetch(`/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': token.csrfT\n      },\n      body: JSON.stringify({\n        email: loginForm.email,\n        password: loginForm.password\n      }),\n    });\n    if (res.status >= 200 && res.status < 400) {\n      const { user, tasklists } = await res.json();\n      dispatch({\n        type: \"login\",\n        payload: {\n          user: { ...user },\n          lists: tasklists\n        }\n      });\n    } else {\n      console.log(res.status)\n    }\n\n    setloginForm(({\n      email: \"\",\n      password: \"\"\n    }))\n    history.push('/home');\n  }\n\n  function handleChange(event) {\n    const { value, name } = event.target\n    setloginForm(prevNote => ({\n      ...prevNote, [name]: value\n    })\n    )\n  }\n\n  const popDemoUser = e => {\n    e.preventDefault();\n    setloginForm({\n      email: \"testing@example.com\",\n      password: \"test\"\n    })\n  }\n\n  return (\n    <div className='form'>\n      <h1>TO DO<br></br>\n        <div className='login__tagline'>get it done with images and due dates</div>\n      </h1>\n      <form>\n        <input onChange={handleChange}\n          type=\"email\"\n          text={loginForm.email}\n          name=\"email\"\n          placeholder=\"Email\"\n          value={loginForm.email} />\n        <input onChange={handleChange}\n          type=\"password\"\n          text={loginForm.password}\n          name=\"password\"\n          placeholder=\"Password\"\n          value={loginForm.password} />\n\n        <button onClick={logMeIn}>Submit</button>\n      </form>\n      <Link\n        to=\"/signup\">\n        Sign Up\n      </Link>\n      <Link onClick={(e) => popDemoUser(e)} to=\"login\">\n        Set Demo User\n      </Link>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}